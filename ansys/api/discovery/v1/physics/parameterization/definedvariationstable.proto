// Copyright 2025, ANSYS Inc. Unauthorized use, distribution or duplication is prohibited.
syntax = "proto3";

package ansys.api.discovery.v1.physics.parameterization.definedvariationstable;

import "ansys/api/discovery/v1/models.proto";

option csharp_namespace = "Ansys.Api.Discovery.V1.Physics.Parameterization.DefinedVariationsTable";

// Defined variation table servicer.
//
service DefinedVariationsTable{
  // Create variation  
  rpc CreateVariation(CreateVariationRequest) returns(CreateVariationResponse);  

  // Get all the inputs.  
  rpc GetAllInputs(GetAllInputsRequest) returns(GetAllInputsResponse);  

  // Get all the outputs.  
  rpc GetAllOutputs(GetAllOutputsRequest) returns(GetAllOutputsResponse);  

  // Get all the variations (i.e get all the table as rows list)  
  rpc GetAllVariations(GetAllVariationsRequest) returns(GetAllVariationsResponse);  

  // Get the current variation from the design table  
  rpc GetCurrentVariation(GetCurrentVariationRequest) returns(GetCurrentVariationResponse);  

  // Get an input variation table's cell  
  rpc GetInputForVariation(GetInputForVariationRequest) returns(GetInputForVariationResponse);  

  // Get a variation input table's column  
  rpc GetInputColumn(GetInputColumnRequest) returns(GetInputColumnResponse);  

  // Get an output variation table's cell  
  rpc GetOutputForVariation(GetOutputForVariationRequest) returns(GetOutputForVariationResponse);  

  // Get a variation output table's column  
  rpc GetOutputColumn(GetOutputColumnRequest) returns(GetOutputColumnResponse);  

  // Gets a whole row from the defined variations table  
  rpc GetVariation(GetVariationRequest) returns(GetVariationResponse);  

  // Asks if the solve is running  
  rpc IsSolving(IsSolvingRequest) returns(IsSolvingResponse);  

  // Set the current variation from the design table  
  rpc SetCurrentVariation(SetCurrentVariationRequest) returns(SetCurrentVariationResponse);  

  // Set an input parameter  
  rpc SetInputValue(SetInputValueRequest) returns(SetInputValueResponse);  

  // Set a star status for a variations list.  
  rpc SetStarredStatus(SetStarredStatusRequest) returns(SetStarredStatusResponse);  

  // Updates outputs for current variation  
  rpc UpdateAll(UpdateAllRequest) returns(UpdateAllResponse);

  // Updates outputs for current variation  
  rpc UpdateCurrent(UpdateCurrentRequest) returns(UpdateCurrentResponse);  

  // Updates outputs for starred variations  
  rpc UpdateStarred(UpdateStarredRequest) returns(UpdateStarredResponse);  

}

message GetVariationRequest{
  EntityIdentifier id = 1 ;
}

message GetVariationResponse{
  Variation variation = 1;
}

message GetAllVariationsRequest{
}

message GetAllVariationsResponse{
  // The variations on this page.
  repeated Variation defined_variations = 1 ;
}

message GetAllInputsRequest{
}

message GetAllInputsResponse{
  // The inputs on this page.
  repeated InputColumn inputs = 1 ;
}

message GetAllOutputsRequest{
}

message GetAllOutputsResponse{
  // The outputs on this page.
  repeated OutputColumn outputs = 1 ;
}

message GetInputForVariationRequest{
  // The variation's moniker.
  EntityIdentifier variation_moniker = 1;
  // The parameter' moniker.
  EntityIdentifier input_parameter_moniker = 2;
}

message GetInputForVariationResponse{
  InputParameter input = 1;
}

message SetInputValueRequest{
  // The variation's moniker.
  EntityIdentifier variation_moniker = 1;
  // The input parameter.
  InputParameter defined_variation_table_input = 2;
}

message SetInputValueResponse{
  InputParameter input = 1;
}

message CreateVariationRequest{
}

message CreateVariationResponse{
  Variation variation = 1;
}

message GetOutputForVariationRequest{
  // The variation's moniker.
  EntityIdentifier variation_moniker = 1;
  // The parameter' moniker.
  EntityIdentifier output_parameter_moniker = 2;
}

message GetOutputForVariationResponse{
  OutputParameter output = 1;
}

message GetInputColumnRequest{
  // The parameter' moniker.
  EntityIdentifier input_parameter_moniker = 1;
}

message GetInputColumnResponse{
  // The parameter's variations column.
  InputColumn column = 1;
}

message GetOutputColumnRequest{
  // The parameter' moniker.
  EntityIdentifier output_parameter_moniker = 1;
}

message GetOutputColumnResponse{
  // The parameter's variations column.
  OutputColumn column = 1;
}

message SetStarredStatusRequest{
  // The variations monikers.
  repeated EntityIdentifier variations_monikers = 1;
  // The starred status
  bool starred = 2;
}

message SetStarredStatusResponse{
}

message UpdateCurrentRequest{
}

message UpdateCurrentResponse{
  UpdateResponse result = 1;
}

message UpdateStarredRequest{
}

message UpdateStarredResponse{
  UpdateResponse result = 1;
}

message UpdateAllRequest{
}

message UpdateAllResponse{
  UpdateResponse result = 1;
}

message GetCurrentVariationRequest{
}

message GetCurrentVariationResponse{
  // The variation's moniker.
  EntityIdentifier variation_moniker = 1;
  string message = 2;
}

message SetCurrentVariationRequest{
  EntityIdentifier id = 1;
}

message SetCurrentVariationResponse{
  MessageResponse response = 1;
}

///UPDATES
//

message UpdateResponse{
  // The result
  bool result = 1;
  string message = 2;
}

message IsSolvingRequest{
}

message IsSolvingResponse{
  // The result
  bool is_solving = 1;
}
