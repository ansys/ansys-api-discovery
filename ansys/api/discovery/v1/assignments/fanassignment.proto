// Copyright 2025, ANSYS Inc. Unauthorized use, distribution or duplication is prohibited.
syntax = "proto3";
package ansys.api.discovery.v1.assignments.fanassignment;

import "ansys/api/discovery/v1/models.proto";

option csharp_namespace = "Ansys.Api.Discovery.V1.Assignments";

service FanAssignment
{
  rpc CreateInternalFanAssignment(InternalFanAssignmentCreationRequest) returns (InternalFanAssignmentCreationResponse);

  rpc CreateExternalFanAssignment(ExternalFanAssignmentCreationRequest) returns (ExternalFanAssignmentCreationResponse);

  rpc ChangeFanAssignment(ChangeAssignmentRequest) returns (ChangeResponse);

  rpc ChangeExternalFanSpecification(ChangeExternalFanSpecificationRequest) returns (ChangeResponse);

  rpc ChangeFanLocation(ChangeLocationExtendedRequest) returns (ChangeResponse);

  rpc ChangeExternalFanGaugePressure(ChangeQuantityRequest) returns (ChangeResponse);

  rpc ChangeInternalFanInletFace(ChangeLocationRequest) returns (ChangeResponse);

  rpc ChangeInternalFanIsShrouded(ChangeBooleanRequest) returns (ChangeResponse);

  rpc ChangeInternalFanHubRadius(ChangeQuantityRequest) returns (ChangeResponse);

  rpc ChangeInternalFanTipRadius(ChangeQuantityRequest) returns (ChangeResponse);

  rpc ChangeInternalFanTotalHeat(ChangeQuantityRequest) returns (ChangeResponse);

  rpc ChangeInternalFanSpecifyTotalHeat(ChangeBooleanRequest) returns (ChangeResponse);
}

message InternalFanAssignmentCreationRequest{
  ScopedCreationData  creation_data = 1;
  PhysicsEntityIdentifier fan_id = 2;
  InternalFanAssignmentProperties internal_fan_assignment_properties = 3;
}

message ExternalFanAssignmentCreationRequest{
  ScopedCreationData creation_data = 1;
  PhysicsEntityIdentifier fan_id = 2;
  ExternalFanAssignmentProperties external_fan_assignment_properties = 3;
}

message InternalFanAssignmentCreationResponse{
  CreationResponse condition_response = 1;
  InternalFanAssignmentDefinition condition_data = 2;
}

message ExternalFanAssignmentCreationResponse{
  CreationResponse condition_response = 1;
  ExternalFanAssignmentDefinition condition_data = 2;
}

message ChangeExternalFanSpecificationRequest{
  PhysicsEntityIdentifier object_id = 1;
  ExternalFanSpecification specification = 2;
}

message ExternalFanAssignmentProperties {
  PhysicsEntityIdentifier fan_id = 1;
  ExternalFanSpecification specification = 2;
  Quantity gauge_pressure = 3;
  bool is_swirling = 4;
  Quantity flow_temperature = 5;
}

message InternalFanAssignmentProperties {
  PhysicsEntityIdentifier fan_id = 1;
  bool is_shrouded = 2;
  OptionalQuantity total_heat = 3;
  Quantity hub_radius = 4;
  Quantity tip_radius = 5;
  bool is_swirling = 6;
  optional EntityIdentifier inlet_face = 7;
}

enum ExternalFanSpecification
{
  INTAKE = 0;
  EXHAUST = 1;
}

// Return definitions
message InternalFanAssignmentDefinition {
  PhysicsEntityIdentifier id = 1;
  PhysicsEntityIdentifier parent_id = 2;
  string label = 3;
  repeated string locations = 4;
  bool suppressed = 5;
  InternalFanAssignmentProperties assignment_properties = 6;
}

message ExternalFanAssignmentDefinition {
  PhysicsEntityIdentifier id = 1;
  PhysicsEntityIdentifier parent_id = 2;
  string label = 3;
  repeated string locations = 4;
  bool suppressed = 5;
  ExternalFanAssignmentProperties assignment_properties = 6;
}
